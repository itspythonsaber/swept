<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="UTF-8">
<title>swept.bet</title>
<link rel="stylesheet" href="style.css">
<script src="https://cdn.jsdelivr.net/npm/@solana/web3.js@1.78.0/lib/index.iife.min.js"></script>
<script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
</head>
<body>
<div class="header">
  <h1>swept.bet</h1>
</div>

<div class="wallet-connect">
  <button id="connectWalletBtn">Connect Phantom Wallet</button>
  <span id="walletAddress"></span>
</div>

<div class="game">
  <div id="multiplier" class="multiplier">Multiplier: 1.00x</div>

  <div class="bet-container">
    <input type="number" id="bet" placeholder="Bet Amount (SOL)">
    <button id="betBtn">Place Bet</button>
  </div>

  <h2>Leaderboard</h2>
  <ul id="leaderboard"></ul>
</div>

<script>
let userWallet = null;
const socket = io(); // will auto connect to Netlify function URL

document.getElementById("connectWalletBtn").addEventListener("click", async () => {
  if(window.solana && window.solana.isPhantom) {
    const resp = await window.solana.connect();
    userWallet = resp.publicKey.toString();
    document.getElementById("walletAddress").innerText = userWallet;
  } else {
    alert("Phantom wallet not found.");
  }
});

socket.on("state", (data) => {
  document.getElementById("multiplier").innerText = `Multiplier: ${data.multiplier}x`;
});

socket.on("leaderboard", (data) => {
  const lb = document.getElementById("leaderboard");
  lb.innerHTML = "";
  data.forEach(b => {
    const li = document.createElement("li");
    li.innerText = `${b.user}: ${b.payout} SOL`;
    lb.appendChild(li);
  });
});

document.getElementById("betBtn").addEventListener("click", () => {
  if(!userWallet) return alert("Connect wallet first.");
  const bet = parseFloat(document.getElementById("bet").value);
  socket.emit("placeBet", { userPublicKey: userWallet, betAmount: bet });
});

socket.on("betResult", (data) => {
  alert(`Your payout: ${data.payout} SOL`);
});
</script>
</body>
</html>
This paste expires in <1 hour. ðŸ”’ IP access 174.92.9.33. Share whatever you see with others in seconds with Context. Terms of ServiceReport this
